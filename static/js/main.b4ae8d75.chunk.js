(this["webpackJsonpdesafio-login-deploy-react"]=this["webpackJsonpdesafio-login-deploy-react"]||[]).push([[0],{31:function(e,t,c){},35:function(e,t,c){},37:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),r=c(14),s=c.n(r),o=c(9),i=(c(31),c(16)),d=c(4),l=c(23),u="LOGIN_USER",j="".concat(u,"_INIT"),b="".concat(u,"_SUCCESS"),p="".concat(u,"_ERROR"),O=function(e,t){var c=e.username,a=e.password;return function(e){e({type:j});var n=function(t){e({type:p,payload:t})};try{fetch("https://api-mock-mia.herokuapp.com/auth/login",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({username:c,password:a})}).then((function(e){return e.json()})).then((function(a){a.jwt?(localStorage.jwt=a.jwt,e({type:b,payload:c}),t()):n(a.error)}))}catch(r){n("Hay un error")}}},h=c(3),m=c(1),f=function(){var e=Object(a.useState)({username:"",password:""}),t=Object(l.a)(e,2),c=t[0],n=t[1],r=Object(o.b)(),s=Object(h.f)(),u=function(e){var t=e.target;n(Object(d.a)(Object(d.a)({},c),{},Object(i.a)({},t.name,t.value)))},j=function(){return s.push("/products")};return Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)("h1",{children:"Login"}),Object(m.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),r(O(c,j))},children:[Object(m.jsx)("div",{className:"card",children:Object(m.jsx)("input",{id:"username",name:"username",className:"form-control username",placeholder:"Usuario",onChange:u,value:c.username})}),Object(m.jsx)("div",{className:"card",children:Object(m.jsx)("input",{id:"password",name:"password",className:"form-control",placeholder:"Password",type:"password",onChange:u,value:c.password})}),Object(m.jsx)("div",{className:"card",children:Object(m.jsx)("button",{id:"buttonSubmit",className:"btn btn-primary",type:"submit",children:"Ingresar"})})]})]})},v="LIST_PRODUCTS",x="".concat(v,"_INIT"),g="".concat(v,"_SUCCESS"),y="".concat(v,"_ERROR"),N=function(){return function(e){e({type:x});var t=function(t){e({type:y,payload:t})};try{fetch("https://api-mock-mia.herokuapp.com/products",{method:"GET"}).then((function(e){return e.json()})).then((function(c){c?e({type:g,payload:c}):t(c.error)}))}catch(c){t("Hay un error")}}},S=c(10),w=function(){var e=Object(o.c)((function(e){return e.products.data})),t=Object(o.b)();return Object(a.useEffect)((function(){t(N())}),[t]),Object(m.jsx)("div",{children:e.map((function(e){return Object(m.jsx)("div",{className:"list-group-item",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-4",children:e.name}),Object(m.jsx)("div",{className:"col-4",children:e.price}),Object(m.jsx)("div",{className:"col-4",children:Object(m.jsx)(S.b,{to:"/products/remove/".concat(e.id),className:"btn btn-danger",children:"Delete"})})]})},e.id)}))})};c(35);var C=function(){return Object(m.jsx)("div",{className:"App text-center container",children:Object(m.jsx)(S.a,{basename:"desafio-login-deploy-react",children:Object(m.jsxs)("div",{children:[Object(m.jsx)("nav",{className:"navbar navbar-expand-lg",children:Object(m.jsxs)("ul",{className:"nabvar-nav",children:[Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(S.c,{to:"/",children:"Login"})}),Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(S.c,{to:"/products",children:"Products"})})]})}),Object(m.jsxs)(h.c,{children:[Object(m.jsx)(h.a,{exact:!0,path:"/",children:Object(m.jsx)(f,{})}),Object(m.jsx)(h.a,{path:"/products",children:Object(m.jsx)(w,{})})]})]})})})},P=c(12),I=c(21),R=c(22),T={data:{},error:null,success:null,loading:!1},E={data:[],error:null,success:null,loadingProducts:!1},_=Object(P.combineReducers)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case b:return Object(d.a)(Object(d.a)({},e),{},{data:t.payload,loading:!1,success:!0,error:!1});case p:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,success:!1,error:t.payload});default:return e}},products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(d.a)(Object(d.a)({},e),{},{loadingProducts:!0});case g:return Object(d.a)(Object(d.a)({},e),{},{data:t.payload,loadingProducts:!1,success:!0,error:!1});case y:return Object(d.a)(Object(d.a)({},e),{},{loadingProducts:!1,success:!1,error:t.payload});default:return e}}}),k=Object(P.createStore)(_,Object(I.composeWithDevTools)(Object(P.applyMiddleware)(R.a))),L=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,38)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),a(e),n(e),r(e),s(e)}))};c(36);s.a.render(Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(o.a,{store:k,children:Object(m.jsx)(C,{})})}),document.getElementById("root")),L()}},[[37,1,2]]]);
//# sourceMappingURL=main.b4ae8d75.chunk.js.map