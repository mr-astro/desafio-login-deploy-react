{"version":3,"sources":["store/login/types.js","store/login/action.js","container/login/Login.jsx","container/users/Users.jsx","App.js","store/login/index.js","store/index.js","reportWebVitals.js","index.js"],"names":["LOGIN_USER","LOGIN_USER_INIT","LOGIN_USER_SUCCESS","LOGIN_USER_ERROR","userLogin","cb","username","password","dispatch","type","loginFail","error","payload","fetch","method","headers","body","JSON","stringify","then","response","json","data","jwt","localStorage","Login","useState","form","setForm","useDispatch","history","useHistory","handleInputChange","event","target","name","value","push","className","noValidate","autoComplete","onSubmit","preventDefault","id","placeholder","onChange","Users","App","basename","to","exact","path","initialStore","success","loading","store","createStore","prevState","action","composeWithDevTools","applyMiddleware","thunk","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7b939c78.chunk.js","sourcesContent":["const LOGIN_USER = 'LOGIN_USER'\r\nexport const LOGIN_USER_INIT = `${LOGIN_USER}_INIT`\r\nexport const LOGIN_USER_SUCCESS = `${LOGIN_USER}_SUCCESS`\r\nexport const LOGIN_USER_ERROR = `${LOGIN_USER}_ERROR`\r\n","import { LOGIN_USER_INIT, LOGIN_USER_SUCCESS, LOGIN_USER_ERROR } from './types'\r\n\r\nexport const userLogin = ({ username, password }, cb) => {\r\n    return (dispatch) => {\r\n        dispatch({ type: LOGIN_USER_INIT })\r\n\r\n        const loginSuccess = (response) => {\r\n            dispatch({ type: LOGIN_USER_SUCCESS, payload: response })\r\n        }\r\n\r\n        const loginFail = (error) => {\r\n            dispatch({ type: LOGIN_USER_ERROR, payload: error })\r\n        }\r\n\r\n        try {\r\n            fetch('https://api-mock-mia.herokuapp.com/auth/login', {\r\n                method: 'POST',\r\n                headers: { \"Content-type\": \"application/json\" },\r\n                body: JSON.stringify({ username, password })\r\n            })\r\n                .then((response) => response.json())\r\n                .then((data) => {\r\n                    if (data.jwt) {\r\n                        //console.log(data)\r\n                        localStorage.jwt=data.jwt\r\n                        loginSuccess(username)\r\n                        cb()\r\n                    } else {\r\n                        loginFail(data.error)\r\n                    }\r\n                })\r\n        } catch (error) {\r\n            loginFail('Hay un error', error)\r\n        }\r\n    }\r\n}","import React, {useState} from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport {userLogin} from '../../store/login/action'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nconst Login = () => {\r\n    const [form, setForm] = useState({\r\n        username:'',\r\n        password:''\r\n    })\r\n\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n    \r\n    const handleInputChange = (event) => {\r\n        const target = event.target\r\n        setForm({\r\n            ...form,\r\n            [target.name]:target.value\r\n        })\r\n    }\r\n\r\n    const cb = () => history.push('/users')\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault()\r\n        dispatch(userLogin(form,cb))\r\n    }\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <h1>Login</h1>\r\n            <form noValidate autoComplete='off' onSubmit={handleSubmit}>\r\n                <div className='card'>\r\n                    <input \r\n                    id='username'\r\n                    name='username'\r\n                    className='form-control username'\r\n                    placeholder='Usuario'\r\n                    onChange={handleInputChange}\r\n                    value={form.username} />\r\n                </div>\r\n                <div className='card'>\r\n                    <input\r\n                    id='password'\r\n                    name='password'\r\n                    className='form-control'\r\n                    placeholder='Password'\r\n                    type='password'\r\n                    onChange={handleInputChange}\r\n                    value={form.password}/>\r\n                </div>\r\n                <div className='card'>\r\n                    <button\r\n                    id='buttonSubmit'\r\n                    className='btn btn-primary'\r\n                    type='submit'>Ingresar</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login","const Users = () => {\r\n    return (\r\n        <h2>Listado de Usuarios</h2>\r\n    )\r\n}\r\n\r\nexport default Users","import Login from './container/login/Login';\nimport Users from './container/users/Users';\nimport {BrowserRouter as Router, Switch, Route, Link } from 'react-router-dom'\nimport './App.css';\n\nfunction App() {\n  return (\n    <div className=\"App text-center\">\n      <Router basename='desafio-login-deploy-react'>\n        <div>\n          <nav>\n            <ul>\n              <li>\n                <Link to='/'>Login</Link>\n              </li>\n              <li>\n                <Link to='/users'>Users</Link>\n              </li>\n            </ul>\n          </nav>\n          <Switch>\n            <Route exact path='/'><Login /></Route>\n            <Route path='/users'><Users /></Route>\n          </Switch>\n        </div>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import { LOGIN_USER_INIT, LOGIN_USER_SUCCESS, LOGIN_USER_ERROR } from './types'\r\n\r\nconst initialStore = {\r\n    data:{},\r\n    error:null,\r\n    success:null,\r\n    loading:false\r\n}\r\n\r\nexport const loginReducer = (prevState = initialStore, action) => {\r\n    switch(action.type) {\r\n        case LOGIN_USER_INIT:\r\n            return {\r\n                ...prevState,\r\n                loading: true\r\n            }\r\n        \r\n        case LOGIN_USER_SUCCESS:\r\n            return {\r\n                ...prevState,\r\n                data: action.payload,\r\n                loading: false,\r\n                success: true,\r\n                error: false\r\n            }\r\n\r\n        case LOGIN_USER_ERROR:\r\n            return {\r\n                ...prevState,\r\n                loading: false,\r\n                success: false,\r\n                error: action.payload\r\n            }\r\n        \r\n        default:\r\n            return prevState\r\n    }\r\n}","import { createStore, applyMiddleware } from 'redux'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport thunk from 'redux-thunk'\r\nimport { loginReducer } from './login'\r\n\r\nconst store = createStore(loginReducer, composeWithDevTools(applyMiddleware(thunk)))\r\n\r\nexport default store","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux'\nimport './index.css';\nimport App from './App';\nimport store from './store'\nimport reportWebVitals from './reportWebVitals';\nimport 'bootstrap/dist/css/bootstrap.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n    <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}